<%- include('../partials/head') %>
</head>
<body>
  <%- include('../partials/nav') %>
  <main>
    <div class="home-detail">
      <a href="/homes">‚Üê Back to homes</a>
      <h2><%= home.housename %></h2>
      <div class="detail-grid">
        <div class="detail-image">
          <% const img = home.photourl || home.imageUrl; %>
          <% if (img) { %>
            <img src="<%= img %>" alt="<%= home.housename %>" onerror="this.onerror=null;this.src='/images/placeholder.svg'">
          <% } else { %>
            <img src="/images/placeholder.svg" alt="placeholder">
          <% } %>
        </div>
        <div class="detail-info">
          <% if (home.description) { %>
            <p><%= home.description %></p>
          <% } %>
          <p><strong>Location:</strong> <%= home.location || 'Not specified' %></p>
          <p><strong>Price:</strong> <% if (home.price) { %>$<%= home.price %><% } else { %>N/A<% } %> per night</p>
          <% if (home.rooms) { %>
            <p><strong>Rooms:</strong> <%= home.rooms %></p>
          <% } %>
          <% if (home.host) { %>
            <p><strong>Host:</strong> <%= home.host %></p>
          <% } %>
          <button class="btn-primary">Book Now</button>

          <form action="/favourites" method="POST" class="favourite-form" style="display:inline-block;margin-left:0.6rem;">
            <input type="hidden" name="homeId" value="<%= home.id %>">
            <button type="submit" class="btn-secondary">Add to favourites</button>
          </form>
        </div>
      
      </div>
    </div>
  </main>
    
</body>
</html>